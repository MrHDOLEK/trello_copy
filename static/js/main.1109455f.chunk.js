(this.webpackJsonptrello_copy=this.webpackJsonptrello_copy||[]).push([[0],{44:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(17),o=n.n(r),s=(n(44),n(12)),i=n(3),u=n(6),l=n(4),j=n(36),b=n(1),d=function(e){var t=e.component,n=Object(j.a)(e,["component"]),c=Object(u.c)((function(e){return e.authReducer.isAuthenticated}));return Object(b.jsx)(i.b,Object(l.a)(Object(l.a)({},n),{},{render:function(e){return c?Object(b.jsx)(t,Object(l.a)({},e)):Object(b.jsx)(i.a,{to:"/login"})}}))},h=n(14),O=n(18),g=function(e){var t=e.label,n=e.type,c=e.name,a=e.id,r=e.value,o=e.onChange;return Object(b.jsxs)("div",{className:"flex flex-col p-2 mt-2",children:[Object(b.jsx)("label",{className:"text-xl text-gray-200",children:t}),Object(b.jsx)("input",{className:"bg-transparent border-b-2 focus:border-green-400 outline-none text-gray-200",type:n,name:c,id:a,value:r,onChange:o})]})},p=function(e){var t=e.text;return Object(b.jsx)("button",{type:"submit",className:"bg-green-500 hover:bg-green-600 focus:bg-green-600 w-full rounded p-2 mt-3",children:t})},x=n(16),f=n.n(x),m="LOGIN_SUCCESS",v="LOGIN_FAILED",y="LOGOUT_SUCCESS",w="USER_LOADED",S=function(e){return function(t){f.a.post("http://95.111.242.110:8180/api/auth/login",e).then((function(e){t({type:m,payload:e.data})})).catch((function(e){return t({type:v,payload:e.message})}))}},C=function(e){var t=e().authReducer.token,n={headers:{}};return t&&(n.headers.Authorization="Bearer ".concat(t)),n},k=function(){var e=Object(c.useState)({}),t=Object(O.a)(e,2),n=t[0],a=t[1],r=Object(u.b)(),o=Object(u.c)((function(e){return e.authReducer.isAuthenticated})),j=function(e){a((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(h.a)({},e.target.name,e.target.value))}))};return Object(b.jsxs)(c.Fragment,{children:[o&&Object(b.jsx)(i.a,{to:"/board"}),Object(b.jsx)("h1",{className:"text-gray-200 text-center text-4xl mb-5",children:"Register"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(function(e){return function(t){f.a.post("http://95.111.242.110:8180/api/auth/signup",e).then((function(e){console.log(e.data.message)})).catch((function(e){return console.log(e)}))}}(n))},children:[Object(b.jsx)(g,{label:"Name",type:"name",name:"name",id:"name",onChange:j}),Object(b.jsx)(g,{label:"Addres email",type:"email",name:"email",id:"email",onChange:j}),Object(b.jsx)(g,{label:"Password",type:"password",onChange:j,name:"password",id:"password"}),Object(b.jsx)(g,{label:"Confirm password",type:"password",onChange:j,name:"password_confirmation",id:"password_confirmation"}),Object(b.jsx)(p,{text:"Register"})]}),Object(b.jsxs)("small",{className:"text-gray-400 mt-3 text-sm",children:["You already have an account?"," ",Object(b.jsx)(s.b,{to:"/login",className:"hover:text-green-500",children:"Sign in!"})]})]})},N=n(24),L=n.n(N),A=n(37),R=function(){var e=Object(c.useState)({remember_me:1}),t=Object(O.a)(e,2),n=t[0],a=t[1],r=Object(u.b)(),o=Object(u.c)((function(e){return e.authReducer.isAuthenticated})),j=function(e){a((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(h.a)({},e.target.name,e.target.value))}))},d=function(){var e=Object(A.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r(S(n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(c.Fragment,{children:[o&&Object(b.jsx)(i.a,{to:"/board"}),Object(b.jsx)("h1",{className:"text-gray-200 text-center text-4xl mb-5",children:"Login"}),Object(b.jsxs)("form",{onSubmit:d,children:[Object(b.jsx)(g,{label:"Email",type:"email",name:"email",id:"email",onChange:j}),Object(b.jsx)(g,{label:"Password",type:"password",name:"password",id:"password",onChange:j}),Object(b.jsx)(p,{text:"Login"})]}),Object(b.jsxs)("small",{className:"text-gray-400 mt-3 text-sm",children:["You don't have an account?"," ",Object(b.jsx)(s.b,{to:"/register",className:"hover:text-green-500",children:"Sign up!"})]})]})},_=function(e){var t=e.option;return Object(b.jsxs)("div",{className:"flex flex-col justify-center items-center w-screen h-screen bg-gray-800",children:["register"===t&&Object(b.jsx)(k,{}),"login"===t&&Object(b.jsx)(R,{})]})};var D=function(){var e=Object(u.c)((function(e){return e.authReducer.user})),t=Object(u.b)();return Object(b.jsxs)("div",{children:[JSON.stringify(e),Object(b.jsx)("button",{onClick:function(){return t((function(e,t){f.a.get("http://95.111.242.110:8180/api/auth/logout",C(t)).then((function(){return e({type:y})})).catch((function(e){return console.log(e)}))}))},children:"LOGOUT"})]})};var E=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.authReducer.token}));return console.log(t),Object(c.useEffect)((function(){e((function(e,t){f.a.get("http://95.111.242.110:8180/api/auth/user",C(t)).then((function(t){return e({type:w,payload:t.data})})).catch((function(e){return console.log(":S")}))}))})),Object(b.jsx)(s.a,{children:Object(b.jsxs)(i.d,{children:[Object(b.jsx)(i.b,{exact:!0,path:"/register",children:Object(b.jsx)(_,{option:"register"})}),Object(b.jsx)(i.b,{exact:!0,path:"/login",children:Object(b.jsx)(_,{option:"login"})}),Object(b.jsx)(d,{component:D,path:"/board",exact:!0})]})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))},F=n(11),U=n(38),I=n(39);function G(e,t,n){var c=new Date;c.setTime(c.getTime()+24*n*60*60*1e3);var a="expires="+c.toUTCString();document.cookie="".concat(e,"=").concat(t,";").concat(a,"; Secure;")}function P(e){G(e,"")}var B={isLoading:!1,isAuthenticated:!1,user:null,token:function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),c=0;c<n.length;c++){for(var a=n[c];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return""}("token")},J=Object(F.combineReducers)({authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(l.a)(Object(l.a)({},e),{},{user:t.payload,isLoading:!1,isAuthenticated:!0});case m:return G("token",t.payload.access_token,t.payload.expires_at),Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,isAuthenticated:!0,token:t.payload.access_token});case v:case y:return P("token"),Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,isAuthenticated:!1,token:null,user:null});default:return e}}}),M=[I.a],Y=Object(F.createStore)(J,{},Object(U.composeWithDevTools)(F.applyMiddleware.apply(void 0,M)));o.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(u.a,{store:Y,children:Object(b.jsx)(E,{})})}),document.getElementById("root")),T()}},[[74,1,2]]]);
//# sourceMappingURL=main.1109455f.chunk.js.map