(this.webpackJsonptrello_copy=this.webpackJsonptrello_copy||[]).push([[0],{103:function(e,t,n){"use strict";n.r(t);var a,c,r,s,i,o,l=n(0),d=n.n(l),b=n(21),u=n.n(b),j=(n(54),n(8)),h=n(6),O=n(4),x=n(2),g=n(20),p=n(1),m=function(e){var t=e.component,n=Object(g.a)(e,["component"]),a=Object(O.c)((function(e){return e.authReducer.isAuthenticated}));return Object(p.jsx)(h.b,Object(x.a)(Object(x.a)({},n),{},{render:function(e){return a?Object(p.jsx)(t,Object(x.a)({},e)):Object(p.jsx)(h.a,{to:"/login"})}}))},f=n(15),v=n(17),y=function(e){var t,n=e.label,a=e.type,c=e.name,r=e.id,s=e.value,i=e.onChange,o=e.placeholder,l=e.variant;return"variantOne"===l&&(t="bg-transparent border-b-2 focus:border-green-400 outline-none text-gray-200 mb-2 mx-1"),"variantTwo"===l&&(t="bg-gray-100 border-2 focus:border-green-400 rounded text-gray-900 p-1"),Object(p.jsxs)("div",{className:"flex flex-col mt-2",children:[n&&Object(p.jsx)("label",{htmlFor:r,className:"text-xl text-gray-200 mx-1",children:n}),Object(p.jsx)("input",{className:t,type:a,name:c,id:r,value:s,onChange:i,placeholder:o})]})},w=function(e){var t,n,a,c=e.text,r=e.type,s=e.variant,i=e.width,o=e.textColor,l=e.disabled,d=Object(g.a)(e,["text","type","variant","width","textColor","disabled"]);return"bg-gray-700 rounded p-2 mt-3 cursor-auto","full"===i&&(n="w-full"),"half"===i&&(n="w-1/2"),"variantOne"===s&&(t="bg-green-500 hover:bg-green-600 focus:bg-green-600 rounded p-2 mt-3"),"black"===o&&(a="text-gray-900"),Object(p.jsx)("button",Object(x.a)(Object(x.a)({type:r,className:l?"".concat("bg-gray-700 rounded p-2 mt-3 cursor-auto"," ").concat(n):"".concat(t," ").concat(n," ").concat(a),disabled:l},d),{},{children:c}))},N=n(18),k=n(19),T=k.a.div(a||(a=Object(N.a)(["\n  dispal: inline-block;\n  vertical-align: middle;\n"]))),_=k.a.svg(c||(c=Object(N.a)(["\n  fill: none;\n  stroke: white;\n  stroke-width: 2px;\n"]))),C=k.a.input.attrs({type:"checkbox"})(r||(r=Object(N.a)(["\n  border: 0;\n  clip: rect(0 0 0 0);\n  clippatch: inset(50%);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n"]))),R=k.a.div(s||(s=Object(N.a)(["\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  margin-top: 5px;\n  background: ",";\n  border-radius: 3px;\n  transition: all 150ms;\n\n  "," {\n    visibility: ",";\n  }\n"])),(function(e){return e.checked?"#059669":"#D2D5DA"}),_,(function(e){return e.checked?"visible":"hidden"})),A=k.a.label(i||(i=Object(N.a)(["\n  display: flex;\n  align-items: center;\n"]))),E=k.a.span(o||(o=Object(N.a)(["\n  margin-left: 5px;\n  color: #d2d5da;\n"]))),S=function(e){var t=e.className,n=e.checked,a=e.labelText,c=Object(g.a)(e,["className","checked","labelText"]);return Object(p.jsxs)(A,{children:[Object(p.jsxs)(T,{className:t,children:[Object(p.jsx)(C,Object(x.a)({checked:n},c)),Object(p.jsx)(R,{checked:n,children:Object(p.jsx)(_,{viewBox:"0 0 24 24",children:Object(p.jsx)("polyline",{points:"20 6 9 17 4 12"})})})]}),Object(p.jsx)(E,{children:a})]})},L=n(13),B=n.n(L),F="LOGIN_SUCCESS",D="LOGIN_FAILED",I="LOGOUT_SUCCESS",P="USER_LOADED",G="AVATAR_LOADED",U="PRIVATE_BOARDS_FETCHING",V="PRIVATE_BOARDS_FETCHED",H="PRIVATE_BOARDS_ERROR",z="SINGLE_PRIVATE_FETCHING",J="SINGLE_PRIVATE_FETCHED",M="SINGLE_PRIVATE_ERROR",W=function(e){var t=e().authReducer.token,n={headers:{}};return t&&(n.headers.Authorization="Bearer ".concat(t)),n},Y="http://95.111.242.110:8180",q=function(e){return function(t){B.a.post("".concat(Y,"/api/v1/auth/login"),e).then((function(e){t({type:F,payload:e.data})})).catch((function(e){return t({type:D,payload:e.message})}))}},K=function(){var e=Object(l.useState)({}),t=Object(v.a)(e,2),n=t[0],a=t[1],c=Object(O.b)(),r=Object(O.c)((function(e){return e.authReducer.isAuthenticated})),s=Object(l.useState)(!1),i=Object(v.a)(s,2),o=i[0],d=i[1],b=function(e){a((function(t){return Object(x.a)(Object(x.a)({},t),{},Object(f.a)({},e.target.name,e.target.value))}))};return Object(p.jsxs)(l.Fragment,{children:[r&&Object(p.jsx)(h.a,{to:"/"}),Object(p.jsx)("h1",{className:"text-gray-200 text-center text-4xl mb-5",children:"Register"}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(n),o&&c(function(e){return function(t){B.a.post("".concat(Y,"/api/v1/auth/signup"),e).then((function(e){console.log(e.data.message)})).catch((function(e){return console.log(e)}))}}(n))},children:[Object(p.jsx)(y,{label:"Name",type:"name",name:"name",id:"name",onChange:b,variant:"variantOne"}),Object(p.jsx)(y,{label:"Addres email",type:"email",name:"email",id:"email",onChange:b,variant:"variantOne"}),Object(p.jsx)(y,{label:"Password",type:"password",onChange:b,name:"password",id:"password",variant:"variantOne"}),Object(p.jsx)(y,{label:"Confirm password",type:"password",onChange:b,name:"password_confirmation",id:"password_confirmation",variant:"variantOne"}),Object(p.jsx)(S,{labelText:"I have read and accept the terms and conditions.",checked:o,onChange:function(){d(!o),function(e){a((function(t){return Object(x.a)(Object(x.a)({},t),{},{regulation_accepted:e})}))}(!o)}}),Object(p.jsx)(w,{text:"Register",type:"submit",variant:"variantOne",width:"full",disabled:!o})]}),Object(p.jsxs)("small",{className:"text-gray-400 mt-3 text-sm",children:["You already have an account?"," ",Object(p.jsx)(j.b,{to:"/login",className:"hover:text-green-500",children:"Sign in!"})]})]})},Q=n(29),X=n.n(Q),Z=n(46),$=function(){var e=Object(l.useState)({remember_me:1}),t=Object(v.a)(e,2),n=t[0],a=t[1],c=Object(O.b)(),r=Object(O.c)((function(e){return e.authReducer.isAuthenticated})),s=function(e){a((function(t){return Object(x.a)(Object(x.a)({},t),{},Object(f.a)({},e.target.name,e.target.value))}))},i=function(){var e=Object(Z.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),c(q(n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(l.Fragment,{children:[r&&Object(p.jsx)(h.a,{to:"/"}),Object(p.jsx)("h1",{className:"text-gray-200 text-center text-4xl mb-5",children:"Login"}),Object(p.jsxs)("form",{onSubmit:i,children:[Object(p.jsx)(y,{label:"Email",type:"email",name:"email",id:"email",onChange:s,variant:"variantOne"}),Object(p.jsx)(y,{label:"Password",type:"password",name:"password",id:"password",onChange:s,variant:"variantOne"}),Object(p.jsx)(w,{text:"Sing up",type:"submit",variant:"variantOne",width:"full"})]}),Object(p.jsxs)("small",{className:"text-gray-400 mt-3 text-sm",children:["You don't have an account?"," ",Object(p.jsx)(j.b,{to:"/register",className:"hover:text-green-500",children:"Sign up!"})]})]})},ee=function(e){var t=e.option;return Object(p.jsxs)("div",{className:"flex flex-col justify-center items-center w-screen h-screen bg-gray-800",children:["register"===t&&Object(p.jsx)(K,{}),"login"===t&&Object(p.jsx)($,{})]})},te="http://95.111.242.110:8180",ne=n(22),ae=n.n(ne),ce=n(47),re=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.authReducer.userAvatar}));Object(l.useEffect)((function(){e((function(e,t){B.a.get("".concat(Y,"/api/v1/user/avatar"),W(t)).then((function(t){return e({type:G,payload:t.data})})).catch((function(e){return console.log(e)}))}))}),[]);var n=Object(ce.blobToFile)(t,"avatar.png");return console.log(n),Object(p.jsx)("div",{children:Object(p.jsx)("img",{src:n,alt:"avatar"})})};var se=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.boardsReducer})),n=t.isLoading,a=t.isFetched,c=t.privateTables;return Object(l.useEffect)((function(){e((function(e,t){e({type:U}),B.a.get("".concat(te,"/api/v1/manage/tables/private"),W(t)).then((function(t){return e({type:V,payload:t.data})})).catch((function(t){return e({type:H})}))}))}),[]),n?Object(p.jsx)("div",{className:"flex",children:Object(p.jsx)(ae.a,{className:"mx-auto",type:"ThreeDots",color:"#10B981",height:70,width:70})}):!n&&a?Object(p.jsxs)("div",{className:"p-1",children:[Object(p.jsx)("h1",{className:"text-center sm:text-left text-xl font-bold text-gray-200",children:"Private Boards"}),Object(p.jsx)("div",{className:"flex flex-wrap",children:c.map((function(e){return Object(p.jsx)(j.b,{to:"/dashboard/".concat(e.id),className:"bg-gray-200 rounded w-full flex-grow md:max-w-sm h-36 my-2 md:mr-4 hover:bg-gray-400 cursor-pointer",children:Object(p.jsx)("div",{children:e.name})},e.id)}))}),Object(p.jsx)(re,{})]}):null},ie=function(){var e=Object(l.useState)(),t=Object(v.a)(e,2),n=t[0],a=t[1],c=Object(O.b)();return Object(p.jsxs)("div",{className:"border border-gray-700 rounded-md p-1",children:[Object(p.jsx)("div",{className:"h-36 border-2 border-gray-500",children:"image"}),Object(p.jsxs)("div",{className:"text-center text-gray-200",children:[Object(p.jsx)("h1",{className:"my-2 text-xl font-bold",children:"Organize everything"}),Object(p.jsx)("p",{className:"p-1",children:"Put eveything in one place and go faster with your first Trello Copy board!"}),Object(p.jsxs)("form",{className:"p-2",onSubmit:function(e){e.preventDefault(),c(function(e){return function(t,n){B.a.post("".concat(te,"/api/v1/manage/tables"),e,W(n)).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}}(n))},children:[Object(p.jsx)(y,{placeholder:"What are you working for?",type:"text",variant:"variantTwo",name:"name",onChange:function(e){a(Object(f.a)({},e.target.name,e.target.value))}}),Object(p.jsx)(w,{text:"Create board",type:"submit",variant:"variantOne",width:"full",textColor:"black"})]})]})]})},oe=function(){var e=Object(h.h)().path,t="hover:bg-gray-700 focus:bg-gray-700 rounded p-1 text-gray-200";return Object(p.jsx)("nav",{className:"md:w-1/4 p-0 m-0 sm:mr-1",children:Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{className:t,children:Object(p.jsx)(j.b,{className:"block p-0.5",to:"".concat(e,"/boards_list"),children:"Boards list"})}),Object(p.jsx)("li",{className:t,children:Object(p.jsx)(j.b,{className:"block p-0.5",to:"".concat(e,"/create_board"),children:"Create new board"})})]})})},le=function(){var e=Object(h.h)().url;return Object(p.jsx)(l.Fragment,{children:Object(p.jsx)("div",{className:"h-screen flex justify-center items-center",children:Object(p.jsxs)("div",{className:"flex flex-col md:flex-row w-full md:w-10/12 p-1",children:[Object(p.jsx)(oe,{}),Object(p.jsxs)("div",{className:"md:w-3/4",children:[Object(p.jsx)(h.b,{path:"".concat(e,"/boards_list"),component:se}),Object(p.jsx)(h.b,{path:"".concat(e,"/create_board"),component:ie})]})]})})})};var de=function(){var e=Object(O.b)();return Object(p.jsxs)("header",{className:"bg-green-500 flex justify-between items-center p-1",children:[Object(p.jsx)("nav",{children:Object(p.jsx)("ul",{className:"flex",children:Object(p.jsx)("li",{className:"w-7 h-7 rounded bg-green-300 hover:bg-green-400 cursor-pointer flex justify-center items-center"})})}),Object(p.jsx)("div",{className:"group cursor-pointer",children:Object(p.jsx)("span",{className:"text-white text-xl font-bold group-hover:text-gray-200",children:"Trello Copy"})}),Object(p.jsx)("nav",{children:Object(p.jsxs)("ul",{className:"flex",children:[Object(p.jsx)("li",{children:Object(p.jsx)("button",{onClick:function(){return e((function(e,t){B.a.get("".concat(Y,"/api/v1/auth/logout"),W(t)).then((function(){return e({type:I})})).catch((function(e){return console.log(e)}))}))},children:"LOGOUT"})}),Object(p.jsx)("li",{className:"w-7 h-7 rounded bg-green-300 hover:bg-green-400 cursor-pointer flex justify-center items-center"})]})})]})};function be(e,t,n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);var c="expires="+a.toUTCString();document.cookie="".concat(e,"=").concat(t,";").concat(c,"; path=/; Secure;")}function ue(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),a=0;a<n.length;a++){for(var c=n[a];" "===c.charAt(0);)c=c.substring(1);if(0===c.indexOf(t))return c.substring(t.length,c.length)}return""}function je(e){be(e,"")}var he=function(e){var t=e.data;return Object(p.jsx)("div",{className:"shadow bg-gray-50 hover:bg-gray-100 cursor-pointer border border-gray-300 rounded p-1",children:t.task_name})},Oe=function(e){var t=e.data;return console.log(t),Object(p.jsxs)("div",{className:"bg-gray-200 rounded mb-2 p-2 w-full sm:w-80 sm:mx-2 inline-block",children:[Object(p.jsx)("h2",{className:"text-xl",children:t.card_name}),t.task.map((function(e){return Object(p.jsx)(he,{data:e},e.id)}))]})},xe=function(){var e=Object(O.b)(),t=Object(h.g)().id,n=Object(O.c)((function(e){return e.boardsReducer})),a=n.selectedBoard,c=n.singleBoardLoading,r=n.singleBoardFetched;return Object(l.useEffect)((function(){e(function(e){return function(t,n){t({type:z}),B.a.get("".concat(te,"/api/v1/manage/tables/private/details?id=").concat(e),W(n)).then((function(e){return t({type:J,payload:e.data})})).catch((function(e){return t({type:M})}))}}(t))}),[]),c?Object(p.jsx)("div",{className:"flex",children:Object(p.jsx)(ae.a,{className:"mx-auto",type:"ThreeDots",color:"#10B981",height:70,width:70})}):!c&&r?Object(p.jsxs)("div",{className:"min-h-screen",children:[Object(p.jsx)("h1",{className:"text-gray-200 text-3xl text-center my-2",children:a.name}),Object(p.jsx)("div",{className:"sm:whitespace-nowrap overflow-x-auto",children:a.card.map((function(e){return Object(p.jsx)(Oe,{data:e},e.id)}))})]}):null};n(102);var ge=function(){var e=Object(O.b)();return Object(l.useEffect)((function(){ue("token")&&e((function(e,t){B.a.get("".concat(Y,"/api/v1/auth/user"),W(t)).then((function(t){return e({type:P,payload:t.data})})).catch((function(e){return console.log(e)}))}))})),Object(p.jsxs)("div",{className:"bg-gray-800 min-h-screen h-full text",children:[Object(p.jsx)(de,{}),Object(p.jsx)(j.a,{children:Object(p.jsxs)(h.d,{children:[Object(p.jsx)(h.b,{exact:!0,path:"/register",children:Object(p.jsx)(ee,{option:"register"})}),Object(p.jsx)(h.b,{exact:!0,path:"/login",children:Object(p.jsx)(ee,{option:"login"})}),Object(p.jsx)(m,{component:le,path:"/main"}),Object(p.jsx)(m,{component:xe,path:"/dashboard/:id"}),Object(p.jsx)(h.a,{from:"/",to:"/main/boards_list"})]})})]})},pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,104)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},me=n(14),fe=n(48),ve=n(49),ye={isLoading:!1,isAuthenticated:!1,user:null,userAvatar:null,token:ue("token")},we={isLoading:!1,isFetched:!1,privateTables:null,singleBoardLoading:!1,singleBoardFetched:!1,selectedBoard:null},Ne=Object(me.combineReducers)({authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(x.a)(Object(x.a)({},e),{},{user:t.payload,isLoading:!1,isAuthenticated:!0});case F:return be("token",t.payload.access_token,t.payload.expires_at),Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,isAuthenticated:!0,token:t.payload.access_token});case D:case I:return je("token"),Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,isAuthenticated:!1,token:null,user:null});case G:return Object(x.a)(Object(x.a)({},e),{},{userAvatar:t.payload});default:return e}},boardsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(x.a)(Object(x.a)({},e),{},{isLoading:!0,isFetched:!1});case V:return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,isFetched:!0,privateTables:t.payload});case H:return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,isFetched:!1,privateTables:null});case z:return Object(x.a)(Object(x.a)({},e),{},{singleBoardLoading:!0,singleBoardFetched:!1});case J:return Object(x.a)(Object(x.a)({},e),{},{singleBoardFetched:!0,singleBoardLoading:!1,selectedBoard:t.payload});case M:return Object(x.a)(Object(x.a)({},e),{},{singleBoardLoading:!1,singleBoardFetched:!1,selectedBoard:null});default:return e}}}),ke=[ve.a],Te=Object(me.createStore)(Ne,{},Object(fe.composeWithDevTools)(me.applyMiddleware.apply(void 0,ke)));u.a.render(Object(p.jsx)(d.a.StrictMode,{children:Object(p.jsx)(O.a,{store:Te,children:Object(p.jsx)(ge,{})})}),document.getElementById("root")),pe()},47:function(e,t){},54:function(e,t,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.a74a076d.chunk.js.map